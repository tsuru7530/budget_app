<%= form_with model: model do |form| %>
    <%= render partial: "/layouts/error_messages", locals:{model: form.object} %>
    地区名 <br>
    <%= form.text_field :name %> <br>
    年度 <br>
    <%= form.text_field :year %> <br>
    事務所名 <br>
    <%= form.text_field :office %> <br>
    画像 <br>
    <label>
        <i class="fa-solid fa-image"></i>
        <%= form.file_field :image, accept: "image/*" , class: "input_hidden" %> <br>
    </label>
    <%= form.check_box(:image_delete)%>
    画像を保存しない 
    <div id= "image_preview">
        <% if @district.image.attached? && @district.image.attachment.blob.present? && @district.image.attachment.blob.persisted? %>
            <%= image_tag @district.image, id: "preview_img", size: "150x150" %>
        <% end %>
    </div>
    場所 <br>
    <input type="text" id="input_address">
    <button id="search_address">検索</button>
    <div id="map"></div>
    <%= form.hidden_field :latitude, id: "hidden_latitude" %>
    <%= form.hidden_field :longitude, id: "hidden_longitude" %>
    <%= form.submit "地区登録" %>
<% end %><br>
<%= link_to root_path do %>
    <i class="fa-solid fa-left-long"></i>
<% end %>
(戻る)
<%= javascript_include_tag 'image_preview' %>
<%= javascript_include_tag 'map_form' %>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_API_KEY'] %>&callback=initMap" async defer></script>